/* Guest Navigation (when not logged in) */
.top-nav-guest {
  background: linear-gradient(135deg, rgba(79, 70, 229, 0.9) 0%, rgba(99, 102, 241, 0.9) 50%, rgba(139, 92, 246, 0.9) 100%);
  padding: 0.6rem 1rem;
  box-shadow: 0 8px 32px rgba(79, 70, 229, 0.2);
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 999;
/* Expand tables left to fill the gap caused by the fixed sidebar when
   `body.sidebar-open` padding is present. This targets the common table
   classes used on admin pages so tables visually reach closer to the
   sidebar without changing container centering. */
  backdrop-filter: blur(10px);
}

/* Modern tweaks for sidebar: icons, subtle rounded edge, and smoother hover */
.sidebar {
  border-top-right-radius: 14px;
  border-bottom-right-radius: 14px;
  overflow: hidden;
  backdrop-filter: blur(6px);
}

.sidebar .sidebar-link {
  display: flex;
  align-items: center;

  text-decoration: none;
  font-size: 1.2rem;
  font-weight: 700;
  margin: 0;
  letter-spacing: -0.5px;
}

.guest-nav-links {
  display: flex;
  gap: 1rem;
  align-items: center;
}

.guest-logo{ display:flex; align-items:center; gap:12px; text-decoration:none; color:white; font-weight:800; }
.guest-logo-img{ width:44px; height:44px; object-fit:contain; border-radius:10px; background: rgba(255,255,255,0.9); padding:6px; box-shadow:0 6px 18px rgba(0,0,0,0.12); }
.guest-logo-text{ font-size:1.05rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:420px; }

/* Ensure nav contents sit inside the gradient bar with comfortable spacing */
.top-nav-inner{ max-width:1200px; margin:0 auto; display:flex; align-items:center; justify-content:space-between; padding:0 0.5rem; }

.guest-btn {
  text-decoration: none;
  padding: 0.6rem 1.25rem;
  border-radius: 8px;
  font-weight: 600;
  font-size: 0.95rem;
  transition: all 0.2s ease;
  display: inline-block;
}

.guest-btn.login-btn {
  background: white;
  color: #4F46E5;
}

.guest-btn.login-btn:hover {
  background: #F3F4F6;
  transform: translateY(-3px);
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
}

.guest-btn.signup-btn {
  background: rgba(255, 255, 255, 0.15);
  color: white;
  border: 2px solid white;
  backdrop-filter: blur(10px);
}

.guest-btn.signup-btn:hover {
  background: rgba(255, 255, 255, 0.25);
  border-color: white;
  transform: translateY(-3px);
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
}

/* Sidebar Navigation */
:root{
  --sidebar-width: 260px;
  --accent: #FCD34D;
  --sidebar-gradient: linear-gradient(180deg, rgba(79,70,229,0.95) 0%, rgba(99,102,241,0.95) 50%, rgba(139,92,246,0.95) 100%);
  --sidebar-shadow: 8px 0 48px rgba(2, 8, 35, 0.45);
}

.sidebar-toggle {
  display: none;
  position: fixed;
  top: 20px;
  left: 20px;
  z-index: 1001;
  background: linear-gradient(135deg, #4F46E5 0%, #8B5CF6 100%);
  color: white;
  border: none;
  padding: 10px 12px;
  border-radius: 10px;
  font-size: 20px;
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(79, 70, 229, 0.28);
}

.sidebar {
  position: fixed;
  left: 0;
  top: 0;
  height: 100vh;
  width: var(--sidebar-width);
  background: var(--sidebar-gradient);
  color: white;
  display: flex;
  flex-direction: column;
  box-shadow: var(--sidebar-shadow);
  transition: transform 0.28s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 1000;
}

.sidebar.closed {
  transform: translateX(-100%);
}

.sidebar-header {
  padding: 18px 12px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.15);
  text-align: center;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
}

.sidebar-header h3 {
  margin: 0 0 0 12px;
  font-size: 18px;
  font-weight: 700;
  letter-spacing: -0.3px;
  text-shadow: none;
}

.sidebar-logo-wrap{
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
}

.sidebar-logo{
  width:96px;
  height:96px;
  object-fit:contain;
  border-radius:12px;
  background: rgba(255,255,255,0.06);
  padding:10px;
  box-shadow: 0 8px 22px rgba(0,0,0,0.14);
}

.sidebar-title{
  color: #fff;
  margin:8px 0 0 0;
  font-size:14px;
  font-weight:700;
  text-align:center;
}

/* Slightly reduce logo on small screens to keep layout tidy */
@media (max-width: 480px) {
  .sidebar-logo{
    width:72px;
    height:72px;
    padding:8px;
  }
  .sidebar-header{ padding:14px 12px; }
}

.sidebar-menu {
  list-style: none;
  padding: 0;
  margin: 0;
  flex: 1;
  overflow-y: auto;
  padding-top: 12px;
}

.sidebar-menu::-webkit-scrollbar {
  width: 6px;
}

.sidebar-menu::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.08);
}

.sidebar-menu::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.25);
  border-radius: 3px;
}

.sidebar-menu::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.35);
}

.sidebar-section {
  margin: 8px 0;
}

.sidebar-section-title {
  padding: 16px 24px 10px;
  font-size: 12px;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 1.4px;
  color: rgba(255, 255, 255, 0.72);
}

.sidebar-item {
  list-style: none;
  margin: 0;
  padding: 0;
}

.sidebar-link {
  display: block;
  padding: 12px 20px;
  color: rgba(255, 255, 255, 0.92);
  text-decoration: none;
  transition: all 0.18s ease;
  border-left: 4px solid transparent;
  font-size: 15px;
  font-weight: 600;
  position: relative;
  letter-spacing: 0.1px;
}

.sidebar-link::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  background: rgba(255, 255, 255, 0.1);
  width: 0;
  transition: width 0.3s ease;
}

.sidebar-link:hover {
  background: rgba(0,0,0,0.08);
  color: white;
  border-left-color: var(--accent);
  padding-left: 24px;
}
.sidebar-link.active {
  background: rgba(0,0,0,0.12);
  color: white;
  border-left-color: var(--accent);
  font-weight: 700;
}

.sidebar-footer {
  padding: 16px;
  border-top: 1px solid rgba(255, 255, 255, 0.08);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.04));
  margin-top: auto;
}

.user-info {
  margin-bottom: 12px;
  padding: 10px;
  background: rgba(255, 255, 255, 0.06);
  border-radius: 10px;
  display:flex;
  align-items:center;
}

.user-avatar {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  object-fit: cover;
  margin-right: 10px;
  border: 2px solid rgba(255,255,255,0.12);
  vertical-align: middle;
}

.user-name {
  display: block;
  font-weight: 700;
  font-size: 14px;
  word-break: break-word;
}

.user-role {
  display: block;
  font-size: 12px;
  color: rgba(255, 255, 255, 0.6);
  text-transform: capitalize;
  margin-top: 4px;
}

.sidebar-footer .logout-btn {
  width: 100%;
  padding: 10px;
  background: transparent;
  color: white;
  border: 1.5px solid rgba(255, 255, 255, 0.12);
  border-radius: 10px;
  cursor: pointer;
  font-size: 13px;
  font-weight: 600;
  transition: all 0.18s ease;
}

.sidebar-footer .logout-btn:hover {
  background: rgba(255, 255, 255, 0.25);
  border-color: white;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* Mobile responsive */
@media (max-width: 768px) {
  .sidebar {
    width: calc(var(--sidebar-width) - 20px);
  }

  .sidebar-toggle {
    display: block;
  }

  .sidebar-link {
    padding: 10px 16px;
    font-size: 13px;
  }

  .sidebar-section-title {
    padding: 10px 16px 6px;
    font-size: 11px;
  }
}

@media (max-width: 480px) {
  .sidebar {
    width: 100%;
    box-shadow: 2px 0 12px rgba(0, 0, 0, 0.2);
  }

  .sidebar-header {
    padding: 20px;
  }

  .sidebar-header h3 {
    font-size: 18px;
  }
}

/* When sidebar is open on larger screens, shift main content to avoid overlap */
@media (min-width: 769px) {
  .sidebar-open .home-container {
    margin-left: 0;
    transition: margin-left 0.32s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Ensure top guest nav doesn't get affected */
  .sidebar-open .top-nav-guest {
    left: var(--sidebar-width);
  }
}

/* Ensure large hero/landing sections expand to the left edge when sidebar is open */
@media (min-width: 769px) {
  body.sidebar-open .hero-section,
  body.sidebar-open .modern-hero {
    margin-left: 0;
    width: 100%;
  }

  body.sidebar-open .hero-inner,
  body.sidebar-open .modern-inner {
    max-width: 1200px;
    width: 100%;
    padding-left: 1.5rem;
    padding-right: 1.5rem;
    box-sizing: border-box;
    margin: 0 auto;
  }
}

/* Strong overrides to remove remaining white gap next to sidebar */
@media (min-width: 769px) {
  /* Shift the whole app when sidebar is open so content moves right of the sidebar */
  body.sidebar-open .App {
    margin-left: 260px !important;
    transition: margin-left 0.28s ease !important;
  }

  body.sidebar-open .hero-section,
  body.sidebar-open .modern-hero {
    margin-left: 0 !important;
    padding-left: 0 !important;
    width: 100% !important;
    background-position: left center !important;
  }

  body.sidebar-open .hero-inner,
  body.sidebar-open .modern-inner {
    max-width: 1200px !important;
    width: 100% !important;
    padding-left: 1rem !important;
    padding-right: 1rem !important;
    margin: 0 auto !important;
  }

  body.sidebar-open .features-section,
  body.sidebar-open .features-grid,
  body.sidebar-open .footer-inner {
    width: 100% !important;
    margin-left: 0 !important;
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }
}

/* Remove centered blank gaps by expanding main containers and panels
   toward the left when sidebar is open on desktop. This makes table
   content visually reach the sidebar while keeping containers responsive. */
@media (min-width: 769px) {
  body.sidebar-open .admin-dashboard-container,
  body.sidebar-open .admin-page,
  body.sidebar-open .student-container,
  body.sidebar-open .user-container,
  body.sidebar-open .teacher-management,
  body.sidebar-open .teachers-dashboard,
  body.sidebar-open .dashboard-container,
  body.sidebar-open .dashboard-content,
  body.sidebar-open .student-table-container,
  body.sidebar-open .user-table-container,
  body.sidebar-open .teachers-table-container,
  body.sidebar-open .classes-table-container,
  body.sidebar-open .ann-mgmt,
  body.sidebar-open .reports,
  body.sidebar-open .role-assign {
    /* Keep these containers full width inside the shifted .App */
    margin-left: 0 !important;
    width: 100% !important;
    padding-left: 1.5rem !important;
    padding-right: 1.5rem !important;
    box-sizing: border-box;
  }

  body.sidebar-open .panel,
  body.sidebar-open .student-form-container,
  body.sidebar-open .user-form-container,
  body.sidebar-open .teachers-table-container,
  body.sidebar-open .student-table-container,
  body.sidebar-open .user-table-container {
    width: 100% !important;
  }
}
